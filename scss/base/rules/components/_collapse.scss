@use "../../../theme" as *;
@use "../../variables/components/collapse" as *;
@use "../../mixins/rules/components/collapse" as c;

@mixin all-collapse-styles() {
  @layer base {
    // Collapse Component
    .#{$collapse} {
      @include c.base-collapse-rules();

      .#{$collapse_content} {
        @include c.base-collapse-content-rules();
      }

      &[open] {
        .#{$collapse_title} {
          @include c.base-collapse-title-open-rules();
        }

        .#{$collapse_icon} {
          @include c.base-collapse-icon-open-rules();
        }

        .#{$collapse_content} {
          @include c.base-collapse-content-open-rules();
        }
      }

      .#{$collapse_title} {
        @include c.base-collapse-title-rules();

        &[open] {
          @include c.base-collapse-title-open-rules();
        }
      }
    }
    // Icon Slot
    .#{$collapse_icon_slot} {
      @include c.base-icon-slot-rules();
    }
    // Icon
    .#{$collapse_icon} {
      @include c.base-icon-rules();
      &.#{$collapse_icon}--arrow {
        @include c.base-collapse-icon-arrow-rules();
      }
    }
  }

  @layer modifiers {
    .#{$collapse} {
      &:is([data-surface], .#{$collapse}--outlined) {
        .#{$collapse_content} {
          @include c.modify-collapse-content-surface-or-outlined-rules();
        }
        .#{$collapse_title} {
          @include c.modify-collapse-title-surface-or-outlined-rules();
        }
      }

      &.#{$collapse}--outlined {
        @include c.modify-collapse-outlined-rules();
      }
      &[open] {
        @include c.modify-collapse-open-rules($collapse_icon);
      }

      .#{$collapse_title} {
        @include c.modify-collapse-title-has-icon-rules($collapse_title);
        @include c.modify-collapse-title-is-text-base-rules($collapse_title);
      }

      @include c.modify-collapse-title-marker-end-rules(
        $collapse_title,
        $collapse_icon_slot
      );
    }
  }
}

@include output-rules-with-scope() {
  @include all-collapse-styles();
}
